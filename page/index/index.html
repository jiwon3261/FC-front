<!DOCTYPE html>
<html>

<head class="btest" include-html="../../include/head.html">
    <link rel="stylesheet" href="./index.css">
</head>

<body id="page-top">
    <section class="index-section">
        <div class="circle-ani-container">
            <div class="index-text no-drag">
                <div class="index-subText">내 주변의 모든 옷</div>
                <div class="index-mainText">옷 찾 사</div>
            </div>
            <div class="index-circle"></div>
        </div>
        <div class="index-menu-container no-drag" id="indexPageLink">
            <div data-href="../main/main.html" class="index-menu-item">
                <div data-href="../main/main.html">주변 매장 보러가기</div>
            </div>
            <div data-href="../shop-register/shop-register.html" class="index-menu-item">
                <div data-href="../shop-register/shop-register.html">공급사로 입점하기</div>
            </div>
            <div data-href="../joinus/joinus.html" class="index-menu-item">
                <div data-href="../joinus/joinus.html">회원가입 바로가기</div>
            </div>


        </div>
    </section>
    <object class="mouse-pet" type="image/svg+xml"></object>

    <script>
        (() => {
    
          const indexLinkElems = document.getElementById('indexPageLink');
          indexLinkElems.addEventListener('click', (e) => {
            let eventElem = e.target;
            while (!eventElem.classList.contains('index-menu-container')) {
              eventElem = eventElem.parentNode;
              if (eventElem.classList.contains('index-section')) {
                eventElem = null;
                return;
              }
            }
            if(e.target.dataset.href){
              location.href = e.target.dataset.href;
            }
          });
    
          const reactMonElem = document.querySelector('.mouse-pet');
          randomNum = Math.ceil(Math.random() * (7 - 1) + 1);
          reactMonElem.setAttribute('data', `../../assets/img/svg/${randomNum}.svg`)
          const targetPos = { x: 0, y: 0 };
          const easeValue = 0.05;
          const reactMonInfo = {
            x: 0,
            y: 0
          };
    
          window.addEventListener('mousemove', (e) => {
            reactMonElem.style.zIndex = "1050";
            targetPos.x = e.clientX - innerWidth * 0.5;
            targetPos.y = e.clientY - innerHeight * 0.5;
          });
    
          let dx;
          let dy;
          function render() {
            dx = targetPos.x - reactMonInfo.x;
            dy = targetPos.y - reactMonInfo.y;
            reactMonInfo.x = reactMonInfo.x + dx * easeValue;
            reactMonInfo.y = reactMonInfo.y + dy * easeValue;
            reactMonElem.style.transform = `translate3d(${reactMonInfo.x}px, ${reactMonInfo.y}px, 0px)`;
            requestAnimationFrame(render);
    
            // reactMonElem.style.transform = `translate(${reactMonInfo.x}px, ${reactMonInfo.y}px)`;
            // requestAnimationFrame(render);
          }
    
          render();
        })();
      </script>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/include.js"></script>
    <script src="http://127.0.0.1:5500/js/scripts.js"></script>
    <script>
      const accessToken = localStorage.getItem('accessToken');      
      if(accessToken !== '' && accessToken !== null){
        location.href='../../page/main/main.html';
      }
    </script>
    </div>

</body>

</html>